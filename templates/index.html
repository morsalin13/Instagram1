let html = "<h3>Results:</h3>";
let taken = 0, available = 0;

// âœ… IMPORTANT FIX HERE
data.data.forEach(item => {

    const statusText = item.exists === true
        ? "Taken"
        : item.exists === false
        ? "Available"
        : "Error";

    const statusClass =
        statusText === "Taken" ? "status-taken" :
        statusText === "Available" ? "status-available" :
        "status-error";

    if (statusText === "Taken") taken++;
    if (statusText === "Available") available++;

    html += `
    <div class="result-item">
        <div>
            <div style="font-size:18px;font-weight:bold">${item.username}</div>

            ${item.exists === true ? `
            <div style="margin-top:6px;background:#e8f0fe;padding:6px;border-radius:4px">
                ðŸ‘¥ Followers: ${item.followers} |
                âž• Following: ${item.following}
            </div>
            <div style="font-size:13px;color:#555">
                Private: ${item.private} | Verified: ${item.verified}
            </div>
            ` : `<div style="font-size:13px;color:#999">
                Username is available
            </div>`}
        </div>

        <div style="text-align:right">
            <span class="${statusClass}">${statusText}</span><br>
            <span class="method-tag">${item.method || "public-scraping"}</span>
        </div>
    </div>
    `;
});